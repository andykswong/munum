import{quatdot,quatfromanglex,quatfromangley,quatfromanglez,quatfromaxisangle,quatfromunitvecs,quatidentity,quatinvert,quatlerp,quatmul,quatnorm,quatslerp,quatvec3rotate}from"../../wasm/index.js";import{ManagedFloat64Array}from"./memory.js";export class Quat extends ManagedFloat64Array{static identity(){return new Quat(quatidentity())}static fromUnitVecs(from,to){return new Quat(quatfromunitvecs(from.byteOffset,to.byteOffset))}static fromAxisAngle(axis,angle){return new Quat(quatfromaxisangle(axis.byteOffset,angle))}static fromAngleX(angle){return new Quat(quatfromanglex(angle))}static fromAngleY(angle){return new Quat(quatfromangley(angle))}static fromAngleZ(angle){return new Quat(quatfromanglez(angle))}constructor(ptr){super(ptr)}get length(){return 4}mul(rhs){quatmul(this.byteOffset,this.byteOffset,rhs.byteOffset);return this}rotate(v){quatvec3rotate(v.byteOffset,this.byteOffset,v.byteOffset);return v}dot(rhs){return quatdot(this.byteOffset,rhs.byteOffset)}lerp(rhs,t){quatlerp(this.byteOffset,this.byteOffset,rhs.byteOffset,t);return this}slerp(rhs,t){quatslerp(this.byteOffset,this.byteOffset,rhs.byteOffset,t);return this}normalize(){return!!quatnorm(this.byteOffset,this.byteOffset)}invert(){return!!quatinvert(this.byteOffset,this.byteOffset)}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJxdWF0ZG90IiwicXVhdGZyb21hbmdsZXgiLCJxdWF0ZnJvbWFuZ2xleSIsInF1YXRmcm9tYW5nbGV6IiwicXVhdGZyb21heGlzYW5nbGUiLCJxdWF0ZnJvbXVuaXR2ZWNzIiwicXVhdGlkZW50aXR5IiwicXVhdGludmVydCIsInF1YXRsZXJwIiwicXVhdG11bCIsInF1YXRub3JtIiwicXVhdHNsZXJwIiwicXVhdHZlYzNyb3RhdGUiLCJNYW5hZ2VkRmxvYXQ2NEFycmF5IiwiUXVhdCIsImlkZW50aXR5IiwiZnJvbVVuaXRWZWNzIiwiZnJvbSIsInRvIiwiYnl0ZU9mZnNldCIsImZyb21BeGlzQW5nbGUiLCJheGlzIiwiYW5nbGUiLCJmcm9tQW5nbGVYIiwiZnJvbUFuZ2xlWSIsImZyb21BbmdsZVoiLCJjb25zdHJ1Y3RvciIsInB0ciIsImxlbmd0aCIsIm11bCIsInJocyIsInJvdGF0ZSIsInYiLCJkb3QiLCJsZXJwIiwidCIsInNsZXJwIiwibm9ybWFsaXplIiwiaW52ZXJ0Il0sInNvdXJjZXMiOlsiLi4vLi4vanMvd2FzbS9xdWF0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHF1YXRkb3QsIHF1YXRmcm9tYW5nbGV4LCBxdWF0ZnJvbWFuZ2xleSwgcXVhdGZyb21hbmdsZXosIHF1YXRmcm9tYXhpc2FuZ2xlLCBxdWF0ZnJvbXVuaXR2ZWNzLCBxdWF0aWRlbnRpdHksXG4gIHF1YXRpbnZlcnQsIHF1YXRsZXJwLCBxdWF0bXVsLCBxdWF0bm9ybSwgcXVhdHNsZXJwLCBxdWF0dmVjM3JvdGF0ZVxufSBmcm9tICcuLi8uLi93YXNtL2luZGV4LmpzJztcbmltcG9ydCB7IElRdWF0IH0gZnJvbSAnLi4vdHlwZXMudHMnO1xuaW1wb3J0IHsgTWFuYWdlZEZsb2F0NjRBcnJheSB9IGZyb20gJy4vbWVtb3J5LnRzJztcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuL3ZlYy50cyc7XG5cbi8qKiBBIHF1YXRlcm5pb24uICovXG5leHBvcnQgY2xhc3MgUXVhdCBleHRlbmRzIE1hbmFnZWRGbG9hdDY0QXJyYXk8ND4gaW1wbGVtZW50cyBJUXVhdCB7XG4gIC8qKiBSZXR1cm4gYW4gaWRlbnRpdHkgUXVhdC4gKi9cbiAgcHVibGljIHN0YXRpYyBpZGVudGl0eSgpOiBRdWF0IHtcbiAgICByZXR1cm4gbmV3IFF1YXQocXVhdGlkZW50aXR5KCkpO1xuICB9XG5cbiAgLyoqIFJldHVybiBhIFF1YXQgZnJvbSB1bml0IHZlY3RvcnMuICovXG4gIHB1YmxpYyBzdGF0aWMgZnJvbVVuaXRWZWNzKGZyb206IFZlYzMsIHRvOiBWZWMzKTogUXVhdCB7XG4gICAgcmV0dXJuIG5ldyBRdWF0KHF1YXRmcm9tdW5pdHZlY3MoZnJvbS5ieXRlT2Zmc2V0LCB0by5ieXRlT2Zmc2V0KSk7XG4gIH1cblxuICAvKiogUmV0dXJuIGEgUXVhdCBmcm9tIGF4aXMgYW5kIGFuZ2xlICovXG4gIHB1YmxpYyBzdGF0aWMgZnJvbUF4aXNBbmdsZShheGlzOiBWZWMzLCBhbmdsZTogbnVtYmVyKTogUXVhdCB7XG4gICAgcmV0dXJuIG5ldyBRdWF0KHF1YXRmcm9tYXhpc2FuZ2xlKGF4aXMuYnl0ZU9mZnNldCwgYW5nbGUpKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm4gYSBRdWF0IGZyb20gcm90YXRpb24gYXJvdW5kIHgtYXhpcy4gKi9cbiAgcHVibGljIHN0YXRpYyBmcm9tQW5nbGVYKGFuZ2xlOiBudW1iZXIpOiBRdWF0IHtcbiAgICByZXR1cm4gbmV3IFF1YXQocXVhdGZyb21hbmdsZXgoYW5nbGUpKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm4gYSBRdWF0IGZyb20gcm90YXRpb24gYXJvdW5kIHktYXhpcy4gKi9cbiAgcHVibGljIHN0YXRpYyBmcm9tQW5nbGVZKGFuZ2xlOiBudW1iZXIpOiBRdWF0IHtcbiAgICByZXR1cm4gbmV3IFF1YXQocXVhdGZyb21hbmdsZXkoYW5nbGUpKTtcbiAgfVxuXG4gIC8qKiBSZXR1cm4gYSBRdWF0IGZyb20gcm90YXRpb24gYXJvdW5kIHotYXhpcy4gKi9cbiAgcHVibGljIHN0YXRpYyBmcm9tQW5nbGVaKGFuZ2xlOiBudW1iZXIpOiBRdWF0IHtcbiAgICByZXR1cm4gbmV3IFF1YXQocXVhdGZyb21hbmdsZXooYW5nbGUpKTtcbiAgfVxuXG4gIHByaXZhdGUgY29uc3RydWN0b3IocHRyOiBudW1iZXIpIHtcbiAgICBzdXBlcihwdHIpO1xuICB9XG5cbiAgcHVibGljIG92ZXJyaWRlIGdldCBsZW5ndGgoKTogNCB7XG4gICAgcmV0dXJuIDQ7XG4gIH1cblxuICBwdWJsaWMgbXVsKHJoczogUXVhdCk6IHRoaXMge1xuICAgIHF1YXRtdWwodGhpcy5ieXRlT2Zmc2V0LCB0aGlzLmJ5dGVPZmZzZXQsIHJocy5ieXRlT2Zmc2V0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHB1YmxpYyByb3RhdGUodjogVmVjMyk6IFZlYzMge1xuICAgIHF1YXR2ZWMzcm90YXRlKHYuYnl0ZU9mZnNldCwgdGhpcy5ieXRlT2Zmc2V0LCB2LmJ5dGVPZmZzZXQpO1xuICAgIHJldHVybiB2O1xuICB9XG5cbiAgcHVibGljIGRvdChyaHM6IFF1YXQpOiBudW1iZXIge1xuICAgIHJldHVybiBxdWF0ZG90KHRoaXMuYnl0ZU9mZnNldCwgcmhzLmJ5dGVPZmZzZXQpO1xuICB9XG5cbiAgcHVibGljIGxlcnAocmhzOiBRdWF0LCB0OiBudW1iZXIpOiB0aGlzIHtcbiAgICBxdWF0bGVycCh0aGlzLmJ5dGVPZmZzZXQsIHRoaXMuYnl0ZU9mZnNldCwgcmhzLmJ5dGVPZmZzZXQsIHQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHNsZXJwKHJoczogUXVhdCwgdDogbnVtYmVyKTogdGhpcyB7XG4gICAgcXVhdHNsZXJwKHRoaXMuYnl0ZU9mZnNldCwgdGhpcy5ieXRlT2Zmc2V0LCByaHMuYnl0ZU9mZnNldCwgdCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgbm9ybWFsaXplKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXF1YXRub3JtKHRoaXMuYnl0ZU9mZnNldCwgdGhpcy5ieXRlT2Zmc2V0KTtcbiAgfVxuXG4gIHB1YmxpYyBpbnZlcnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhcXVhdGludmVydCh0aGlzLmJ5dGVPZmZzZXQsIHRoaXMuYnl0ZU9mZnNldCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FDRUEsT0FBTyxDQUFFQyxjQUFjLENBQUVDLGNBQWMsQ0FBRUMsY0FBYyxDQUFFQyxpQkFBaUIsQ0FBRUMsZ0JBQWdCLENBQUVDLFlBQVksQ0FDMUdDLFVBQVUsQ0FBRUMsUUFBUSxDQUFFQyxPQUFPLENBQUVDLFFBQVEsQ0FBRUMsU0FBUyxDQUFFQyxjQUFjLEtBQzdELHFCQUFxQixDQUFDLE9BRXBCQyxtQkFBbUIsbUJBSTVCLE1BQU8sTUFBTSxDQUFBQyxJQUFJLFFBQVMsQ0FBQUQsbUJBQXdDLENBRWhFLE1BQWMsQ0FBQUUsUUFBUUEsQ0FBQSxDQUFTLENBQzdCLE1BQU8sSUFBSSxDQUFBRCxJQUFJLENBQUNSLFlBQVksQ0FBQyxDQUFDLENBQ2hDLENBR0EsTUFBYyxDQUFBVSxZQUFZQSxDQUFDQyxJQUFVLENBQUVDLEVBQVEsQ0FBUSxDQUNyRCxNQUFPLElBQUksQ0FBQUosSUFBSSxDQUFDVCxnQkFBZ0IsQ0FBQ1ksSUFBSSxDQUFDRSxVQUFVLENBQUVELEVBQUUsQ0FBQ0MsVUFBVSxDQUFDLENBQ2xFLENBR0EsTUFBYyxDQUFBQyxhQUFhQSxDQUFDQyxJQUFVLENBQUVDLEtBQWEsQ0FBUSxDQUMzRCxNQUFPLElBQUksQ0FBQVIsSUFBSSxDQUFDVixpQkFBaUIsQ0FBQ2lCLElBQUksQ0FBQ0YsVUFBVSxDQUFFRyxLQUFLLENBQUMsQ0FDM0QsQ0FHQSxNQUFjLENBQUFDLFVBQVVBLENBQUNELEtBQWEsQ0FBUSxDQUM1QyxNQUFPLElBQUksQ0FBQVIsSUFBSSxDQUFDYixjQUFjLENBQUNxQixLQUFLLENBQUMsQ0FDdkMsQ0FHQSxNQUFjLENBQUFFLFVBQVVBLENBQUNGLEtBQWEsQ0FBUSxDQUM1QyxNQUFPLElBQUksQ0FBQVIsSUFBSSxDQUFDWixjQUFjLENBQUNvQixLQUFLLENBQUMsQ0FDdkMsQ0FHQSxNQUFjLENBQUFHLFVBQVVBLENBQUNILEtBQWEsQ0FBUSxDQUM1QyxNQUFPLElBQUksQ0FBQVIsSUFBSSxDQUFDWCxjQUFjLENBQUNtQixLQUFLLENBQUMsQ0FDdkMsQ0FFUUksV0FBV0EsQ0FBQ0MsR0FBVyxDQUFFLENBQy9CLEtBQUssQ0FBQ0EsR0FBRyxDQUNYLENBRUEsR0FBb0IsQ0FBQUMsTUFBTUEsQ0FBQSxDQUFNLENBQzlCLE1BQU8sRUFDVCxDQUVPQyxHQUFHQSxDQUFDQyxHQUFTLENBQVEsQ0FDMUJyQixPQUFPLENBQUMsSUFBSSxDQUFDVSxVQUFVLENBQUUsSUFBSSxDQUFDQSxVQUFVLENBQUVXLEdBQUcsQ0FBQ1gsVUFBVSxDQUFDLENBQ3pELE1BQU8sS0FDVCxDQUVPWSxNQUFNQSxDQUFDQyxDQUFPLENBQVEsQ0FDM0JwQixjQUFjLENBQUNvQixDQUFDLENBQUNiLFVBQVUsQ0FBRSxJQUFJLENBQUNBLFVBQVUsQ0FBRWEsQ0FBQyxDQUFDYixVQUFVLENBQUMsQ0FDM0QsTUFBTyxDQUFBYSxDQUNULENBRU9DLEdBQUdBLENBQUNILEdBQVMsQ0FBVSxDQUM1QixNQUFPLENBQUE5QixPQUFPLENBQUMsSUFBSSxDQUFDbUIsVUFBVSxDQUFFVyxHQUFHLENBQUNYLFVBQVUsQ0FDaEQsQ0FFT2UsSUFBSUEsQ0FBQ0osR0FBUyxDQUFFSyxDQUFTLENBQVEsQ0FDdEMzQixRQUFRLENBQUMsSUFBSSxDQUFDVyxVQUFVLENBQUUsSUFBSSxDQUFDQSxVQUFVLENBQUVXLEdBQUcsQ0FBQ1gsVUFBVSxDQUFFZ0IsQ0FBQyxDQUFDLENBQzdELE1BQU8sS0FDVCxDQUVPQyxLQUFLQSxDQUFDTixHQUFTLENBQUVLLENBQVMsQ0FBUSxDQUN2Q3hCLFNBQVMsQ0FBQyxJQUFJLENBQUNRLFVBQVUsQ0FBRSxJQUFJLENBQUNBLFVBQVUsQ0FBRVcsR0FBRyxDQUFDWCxVQUFVLENBQUVnQixDQUFDLENBQUMsQ0FDOUQsTUFBTyxLQUNULENBRU9FLFNBQVNBLENBQUEsQ0FBWSxDQUMxQixNQUFPLENBQUMsQ0FBQzNCLFFBQVEsQ0FBQyxJQUFJLENBQUNTLFVBQVUsQ0FBRSxJQUFJLENBQUNBLFVBQVUsQ0FDcEQsQ0FFT21CLE1BQU1BLENBQUEsQ0FBWSxDQUN2QixNQUFPLENBQUMsQ0FBQy9CLFVBQVUsQ0FBQyxJQUFJLENBQUNZLFVBQVUsQ0FBRSxJQUFJLENBQUNBLFVBQVUsQ0FDdEQsQ0FDRiIsImlnbm9yZUxpc3QiOltdfQ==