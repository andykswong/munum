{"version":3,"file":"mat2.js","names":["mat","m","create","id","out","fromMat3","copy","v","add","a","b","sub","scale","s","transpose","mul","det","invert","detA"],"sources":["../assembly/mat2.ts"],"sourcesContent":["import { Float, ReadonlyMat2, Mat2, ReadonlyMat3 } from './types';\nimport * as mat from './mat';\n\n// Temp variables\nconst m: Mat2 = create();\n\n/**\n * Create a new identity {@link Mat2}.\n * @returns identity Mat2\n */\nexport function create(): Mat2 {\n  return [1, 0, 0, 1];\n}\n\n/**\n * Set a {@link Mat2} to identity.\n * @returns out = I2\n */\nexport function id(out: Mat2): Mat2 {\n  unchecked(out[0] = out[3] = 1);\n  unchecked(out[1] = out[2] = 0);\n  return out;\n}\n\n/**\n * Create a {@link Mat2} from {@link ReadonlyMat3}.\n * @returns identity Mat2\n */\nexport function fromMat3(m: ReadonlyMat3, out: Mat2 = create()): Mat2 {\n  unchecked(out[0] = m[0]);\n  unchecked(out[1] = m[1]);\n  unchecked(out[2] = m[3]);\n  unchecked(out[3] = m[4]);\n  return out;\n}\n\n/**\n * Copy a {@link Mat2}.\n * @returns out\n */\nexport function copy(v: ReadonlyMat2, out: Mat2 = create()): Mat2 {\n  return mat.copy(v, out) as Mat2;\n}\n\n/**\n * Sum 2 {@link Mat2}.\n * @returns out = a + b\n */\nexport function add(a: ReadonlyMat2, b: ReadonlyMat2, out: Mat2 = create()): Mat2 {\n  return mat.add(a, b, out) as Mat2;\n}\n\n/**\n * Subtract 2 {@link Mat2}.\n * @returns out = a - b\n */\nexport function sub(a: ReadonlyMat2, b: ReadonlyMat2, out: Mat2 = create()): Mat2 {\n  return mat.sub(a, b, out) as Mat2;\n}\n\n/**\n * Multiply a {@link Mat2} by a constant.\n * @returns out = s * M\n */\nexport function scale(m: ReadonlyMat2, s: Float, out: Mat2 = create()): Mat2 {\n  return mat.scale(m, s, out) as Mat2;\n}\n\n/**\n * Transpose a {@link Mat2}.\n * @returns [M]T\n */\nexport function transpose(m: ReadonlyMat2, out: Mat2 = create()): Mat2 {\n  return mat.transpose(2, m, out) as Mat2;\n}\n\n/**\n * Multiply 2 {@link Mat2}.\n * @returns out = a * b\n */\nexport function mul(a: ReadonlyMat2, b: ReadonlyMat2, out: Mat2 = create()): Mat2 {\n  return mat.mul(2, a, b, out) as Mat2;\n}\n\n/**\n * Calculate the determinant of a {@link Mat2}.\n */\nexport function det(m: ReadonlyMat2): Float {\n  return unchecked(m[0] * m[3] - m[2] * m[1]);\n}\n\n/**\n * Returns inverse of a {@link Mat2}, or null if matrix is not invertible.\n * @param a input matrix\n * @param out output matrix\n * @returns out = M^-1, or null if matrix is not invertible\n */\nexport function invert(a: ReadonlyMat2, out: Mat2 = create()): Mat2 | null {\n  const detA: Float = det(a);\n  if (!detA) {\n    return null;\n  }\n\n  unchecked(m[0] = a[3]);\n  unchecked(m[1] = -a[1]);\n  unchecked(m[2] = -a[2]);\n  unchecked(m[3] = a[0]);\n\n  return scale(m, 1 / detA, out);\n}\n"],"mappings":"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"}