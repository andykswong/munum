{"version":3,"file":"vec2.js","names":["mat","vec3","v","create","v3a","v3b","x","y","set","copy","out","add","a","b","sub","scale","s","mul","m","mmul3","dot","lerp","t","sqrLen","len","Math","hypot","dist","norm"],"sources":["../assembly/vec2.ts"],"sourcesContent":["import { Float, ReadonlyMat2, ReadonlyMat3, ReadonlyVec2, Vec2, Vec3 } from './types';\nimport * as mat from './mat';\nimport * as vec3 from './vec3';\n\n// Temp variables\nconst v: Vec2 = create();\nconst v3a: Vec3 = vec3.create();\nconst v3b: Vec3 = vec3.create();\n\n/**\n * Create a new {@link Vec2}.\n * @param x defaults to 0\n * @param y defaults to 0\n * @returns [x, y]\n */\nexport function create(x: Float = 0, y: Float = 0): Vec2 {\n  return [x, y];\n}\n\n/**\n * Set values of a {@link Vec2}.\n * @param v the vec\n * @param x defaults to 0\n * @param y defaults to 0\n * @returns v\n */\nexport function set(v: Vec2, x: Float = 0, y: Float = 0): Vec2 {\n  unchecked(v[0] = x);\n  unchecked(v[1] = y);\n  return v;\n}\n\n/**\n * Copy a {@link Vec2}.\n * @returns out\n */\nexport function copy(v: ReadonlyVec2, out: Vec2 = create()): Vec2 {\n  return mat.copy(v, out) as Vec2;\n}\n\n/**\n * Sum 2 {@link Vec2}.\n * @returns out = a + b\n */\nexport function add(a: ReadonlyVec2, b: ReadonlyVec2, out: Vec2 = create()): Vec2 {\n  return mat.add(a, b, out) as Vec2;\n}\n\n/**\n * Subtract 2 {@link Vec2}.\n * @returns out = a - b\n */\nexport function sub(a: ReadonlyVec2, b: ReadonlyVec2, out: Vec2 = create()): Vec2 {\n  return mat.sub(a, b, out) as Vec2;\n}\n\n/**\n * Multiply a {@link Vec2} by a constant.\n * @returns out = s * v\n */\nexport function scale(v: ReadonlyVec2, s: Float, out: Vec2 = create()): Vec2 {\n  return mat.scale(v, s, out) as Vec2;\n}\n\n/**\n * Multiply a {@link ReadonlyMat2} with a {@link ReadonlyVec2}.\n * @returns out = m * x\n */\nexport function mul(m: ReadonlyMat2, x: ReadonlyVec2, out: Vec2 = create()): Vec2 {\n  return mat.mul(2, m, x, out) as Vec2;\n}\n\n/**\n * Transform a {@link ReadonlyVec2} by a {@link ReadonlyMat3}.\n * @returns out = m * [x 1]\n */\nexport function mmul3(m: ReadonlyMat3, x: ReadonlyVec2, out: Vec2 = create()): Vec2 {\n  unchecked(vec3.set(v3a, x[0], x[1], 1));\n  return mat.copy(mat.mul(3, m, v3a, v3b), out, 0, 0, 2) as Vec2;\n}\n\n/**\n * Calculate the dot product of 2 {@link Vec2}.\n * @returns a * b\n */\nexport function dot(a: ReadonlyVec2, b: ReadonlyVec2): Float {\n  return mat.dot(a, b);\n}\n\n/**\n * Linear interpolate 2 {@link Vec2}.\n * @returns out = lerp(a, b, t)\n */\nexport function lerp(a: ReadonlyVec2, b: ReadonlyVec2, t: Float, out: Vec2 = create()): Vec2 {\n  return mat.lerp(a, b, t, out) as Vec2;\n}\n\n/**\n * Calculate squared length of a {@link Vec2}.\n * @returns dot(v, v)\n */\nexport function sqrLen(v: ReadonlyVec2): Float {\n  return dot(v, v);\n}\n\n/**\n * Calculate length of a {@link Vec2}.\n * @returns |v|\n */\nexport function len(v: ReadonlyVec2): Float {\n  return Math.hypot(v[0], v[1]) as Float;\n}\n\n/**\n * Calculate Euclidean distance of 2 {@link Vec2}.\n * @returns |a - b|\n */\nexport function dist(a: ReadonlyVec2, b: ReadonlyVec2): Float {\n  return len(sub(a, b, v));\n}\n\n/**\n * Normalize a {@link Vec2} and optionally stores result to the out param.\n * @returns v/|v|\n */\nexport function norm(v: ReadonlyVec2, out: Vec2 = create()): Vec2 {\n  return mat.scale(v, 1 / (len(v) || 1), out) as Vec2;\n}\n"],"mappings":"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"}