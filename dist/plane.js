import*as mat from"./mat.js";import*as vec3 from"./vec3.js";import*as vec4 from"./vec4.js";const v1=vec3.create();const v2=vec3.create();export{create,copy,set}from"./vec4.js";export function fromPointNormal(point,normal,out=vec4.create()){vec3.norm(normal,v1);out[3]=-vec3.dot(v1,point);return mat.copy(v1,out)}export function fromPoints(a,b,c,out=vec4.create()){return fromPointNormal(a,vec3.cross(vec3.sub(b,a,v1),vec3.sub(c,a,v2),v2),out)}export function norm(p,out=vec4.create()){return vec4.scale(p,1/(Math.sqrt(p[0]*p[0]+p[1]*p[1]+p[2]*p[2])||1),out)}export function dist(p,q){return p[0]*q[0]+p[1]*q[1]+p[2]*q[2]+p[3]}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYXQiLCJ2ZWMzIiwidmVjNCIsInYxIiwiY3JlYXRlIiwidjIiLCJjb3B5Iiwic2V0IiwiZnJvbVBvaW50Tm9ybWFsIiwicG9pbnQiLCJub3JtYWwiLCJvdXQiLCJub3JtIiwiZG90IiwiZnJvbVBvaW50cyIsImEiLCJiIiwiYyIsImNyb3NzIiwic3ViIiwicCIsInNjYWxlIiwiTWF0aCIsInNxcnQiLCJkaXN0IiwicSJdLCJzb3VyY2VzIjpbIi4uL2Fzc2VtYmx5L3BsYW5lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZsb2F0LCBQbGFuZSwgUmVhZG9ubHlQbGFuZSwgUmVhZG9ubHlWZWMzLCBWZWMzIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgKiBhcyBtYXQgZnJvbSAnLi9tYXQnO1xuaW1wb3J0ICogYXMgdmVjMyBmcm9tICcuL3ZlYzMnO1xuaW1wb3J0ICogYXMgdmVjNCBmcm9tICcuL3ZlYzQnO1xuXG4vLyBUZW1wIHZhcmlhYmxlc1xuY29uc3QgdjE6IFZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuY29uc3QgdjI6IFZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xuXG5leHBvcnQgeyBjcmVhdGUsIGNvcHksIHNldCB9IGZyb20gJy4vdmVjNCc7XG5cbi8qKlxuICogQnVpbGQgYSBub3JtYWxpemVkIHtAbGluayBQbGFuZX0gZnJvbSBhIG5vcm1hbCBhbmQgYSBwb2ludCBvbiBwbGFuZS5cbiAqIE5vcm1hbGl6ZWQgcGxhbmUgaGFzIGxlbihhLCBiLCBjKSA9IDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUG9pbnROb3JtYWwocG9pbnQ6IFJlYWRvbmx5VmVjMywgbm9ybWFsOiBSZWFkb25seVZlYzMsIG91dDogUGxhbmUgPSB2ZWM0LmNyZWF0ZSgpKTogUGxhbmUge1xuICB2ZWMzLm5vcm0obm9ybWFsLCB2MSk7XG4gIHVuY2hlY2tlZChvdXRbM10gPSAtdmVjMy5kb3QodjEsIHBvaW50KSk7XG4gIHJldHVybiBtYXQuY29weSh2MSwgb3V0KSBhcyBQbGFuZTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIG5vcm1hbGl6ZWQge0BsaW5rIFBsYW5lfSBmcm9tIDMgcG9pbnRzIG9uIHBsYW5lLlxuICogVGhlIGNvdW50ZXItY2xvY2t3aXNlIGZhY2Ugb2YgdHJpYW5nbGUgZm9ybWVkIGJ5IGEsIGIsIGMgaXMgY29uc2lkZXJlZCB0aGUgZnJvbnQgZmFjZSBvZiB0aGUgcGxhbmUuXG4gKiBOb3JtYWxpemVkIHBsYW5lIGhhcyBsZW4oYSwgYiwgYykgPSAxLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVBvaW50cyhhOiBSZWFkb25seVZlYzMsIGI6IFJlYWRvbmx5VmVjMywgYzogUmVhZG9ubHlWZWMzLCBvdXQ6IFBsYW5lID0gdmVjNC5jcmVhdGUoKSk6IFBsYW5lIHtcbiAgcmV0dXJuIGZyb21Qb2ludE5vcm1hbChhLCB2ZWMzLmNyb3NzKHZlYzMuc3ViKGIsIGEsIHYxKSwgdmVjMy5zdWIoYywgYSwgdjIpLCB2MiksIG91dCk7XG59XG5cbi8qKlxuICogTm9ybWFsaXplIGEge0BsaW5rIFBsYW5lfSBlcXVhdGlvbiBmb3IgY29ycmVjdCBkaXN0YW5jZSBjYWxjdWxhdGlvbi5cbiAqIE5vcm1hbGl6ZWQgcGxhbmUgaGFzIGxlbihhLCBiLCBjKSA9IDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtKHA6IFJlYWRvbmx5UGxhbmUsIG91dDogUGxhbmUgPSB2ZWM0LmNyZWF0ZSgpKTogUGxhbmUge1xuICByZXR1cm4gdW5jaGVja2VkKHZlYzQuc2NhbGUocCwgMSAvICgoTWF0aC5zcXJ0KHBbMF0gKiBwWzBdICsgcFsxXSAqIHBbMV0gKyBwWzJdICogcFsyXSkgYXMgRmxvYXQpIHx8IDEpLCBvdXQpKTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzaG9ydGVzdCBzaWduZWQgZGlzdGFuY2UgZnJvbSB0aGUgZ2l2ZW4gcG9pbnQgcSB0byBhIG5vcm1hbGl6ZWQge0BsaW5rIFBsYW5lfSBwLlxuICogUG9zaXRpdmUgaWYgcSBpcyBvbiB0aGUgc2FtZSBzaWRlIG9mIHRoZSBwbGFuZSBhcyB0aGUgcGxhbmUgbm9ybWFsOyBuZWdhdGl2ZSBpZiBpdCBpcyBvbiB0aGUgb3Bwb3NpdGUgc2lkZS5cbiAqIE5vcm1hbGl6ZWQgcGxhbmUgaGFzIGxlbihhLCBiLCBjKSA9IDEuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0KHA6IFJlYWRvbmx5UGxhbmUsIHE6IFJlYWRvbmx5VmVjMyk6IEZsb2F0IHtcbiAgcmV0dXJuIHVuY2hlY2tlZChwWzBdICogcVswXSArIHBbMV0gKiBxWzFdICsgcFsyXSAqIHFbMl0gKyBwWzNdKTtcbn1cbiJdLCJtYXBwaW5ncyI6Ik1BQ08sR0FBSyxDQUFBQSxHQUFHLHNCQUNSLEdBQUssQ0FBQUMsSUFBSSx1QkFDVCxHQUFLLENBQUFDLElBQUksaUJBR2hCLEtBQU0sQ0FBQUMsRUFBUSxDQUFHRixJQUFJLENBQUNHLE1BQU0sQ0FBQyxDQUFDLENBQzlCLEtBQU0sQ0FBQUMsRUFBUSxDQUFHSixJQUFJLENBQUNHLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FFdEJBLE1BQU0sQ0FBRUUsSUFBSSxDQUFFQyxHQUFHLGlCQU0xQixNQUFPLFNBQVMsQ0FBQUMsZUFBZUEsQ0FBQ0MsS0FBbUIsQ0FBRUMsTUFBb0IsQ0FBRUMsR0FBVSxDQUFHVCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLENBQVMsQ0FDNUdILElBQUksQ0FBQ1csSUFBSSxDQUFDRixNQUFNLENBQUVQLEVBQUUsQ0FBQyxDQUNYUSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUcsQ0FBQ1YsSUFBSSxDQUFDWSxHQUFHLENBQUNWLEVBQUUsQ0FBRU0sS0FBSyxDQUFDLENBQ3ZDLE1BQU8sQ0FBQVQsR0FBRyxDQUFDTSxJQUFJLENBQUNILEVBQUUsQ0FBRVEsR0FBRyxDQUN6QixDQU9BLE1BQU8sU0FBUyxDQUFBRyxVQUFVQSxDQUFDQyxDQUFlLENBQUVDLENBQWUsQ0FBRUMsQ0FBZSxDQUFFTixHQUFVLENBQUdULElBQUksQ0FBQ0UsTUFBTSxDQUFDLENBQUMsQ0FBUyxDQUMvRyxNQUFPLENBQUFJLGVBQWUsQ0FBQ08sQ0FBQyxDQUFFZCxJQUFJLENBQUNpQixLQUFLLENBQUNqQixJQUFJLENBQUNrQixHQUFHLENBQUNILENBQUMsQ0FBRUQsQ0FBQyxDQUFFWixFQUFFLENBQUMsQ0FBRUYsSUFBSSxDQUFDa0IsR0FBRyxDQUFDRixDQUFDLENBQUVGLENBQUMsQ0FBRVYsRUFBRSxDQUFDLENBQUVBLEVBQUUsQ0FBQyxDQUFFTSxHQUFHLENBQ3ZGLENBTUEsTUFBTyxTQUFTLENBQUFDLElBQUlBLENBQUNRLENBQWdCLENBQUVULEdBQVUsQ0FBR1QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxDQUFTLENBQ3hFLE1BQWlCLENBQUFGLElBQUksQ0FBQ21CLEtBQUssQ0FBQ0QsQ0FBQyxDQUFFLENBQUMsRUFBS0UsSUFBSSxDQUFDQyxJQUFJLENBQUNILENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBR0EsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFHQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUdBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBR0EsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFHQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBYyxDQUFDLENBQUMsQ0FBRVQsR0FBRyxDQUM5RyxDQU9BLE1BQU8sU0FBUyxDQUFBYSxJQUFJQSxDQUFDSixDQUFnQixDQUFFSyxDQUFlLENBQVMsQ0FDN0QsTUFBaUIsQ0FBQUwsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFHSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUdMLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBR0ssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFHTCxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUdLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBR0wsQ0FBQyxDQUFDLENBQUMsQ0FDaEUiLCJpZ25vcmVMaXN0IjpbXX0=